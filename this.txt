ğŸ”¥ â€œthisâ€ keyword â€“ DEEP DIVE (Hinglish, zero confusion)
Ye topic thoda tricky hai, but agar rules + examples yaad ho gaye to interview me koi nahi hila payega ğŸ˜

ğŸ§  Sabse pehle GOLDEN RULE â­

this ka value decide hota hai: function KO KAUN call kar raha hai

âŒ Function kahan likha hai â†’ matter nahi
âœ… Function kaise / kisne call kiya â†’ matter karta hai

1ï¸âƒ£ Global scope me this
Browser me:
console.log(this);


ğŸ–¨ Output:

window


ğŸ“Œ Browser me global this = window

âš ï¸ Node.js me:

this = {}

2ï¸âƒ£ Normal Function me this
âŒ Without strict mode
function show() {
  console.log(this);
}

show();


ğŸ–¨ Output:

window


ğŸ‘‰ Kyunki function ko window ne call kiya

âœ… With strict mode
"use strict";

function show() {
  console.log(this);
}

show();


ğŸ–¨ Output:

undefined


ğŸ“Œ Strict mode me safety ke liye this undefined hota hai

3ï¸âƒ£ Object ke andar method me this
let user = {
  name: "Rahul",
  greet: function () {
    console.log(this.name);
  }
};

user.greet();


ğŸ–¨ Output:

Rahul


ğŸ“Œ Yaha:

greet() ko user call kar raha hai
â¡ï¸ this = user

4ï¸âƒ£ Object method â†’ function alag ho gaya ğŸ˜±
let user = {
  name: "Rahul",
  greet: function () {
    console.log(this.name);
  }
};

let fun = user.greet;
fun();


ğŸ–¨ Output:

undefined


âŒ Kyunki ab:

fun() ko window call kar raha hai
â¡ï¸ this = window

5ï¸âƒ£ Arrow Function me this (MOST IMPORTANT ğŸ”¥)

ğŸ‘‰ Arrow function ka apna this nahi hota
ğŸ‘‰ Wo outer scope se this uthata hai

âŒ Object ke andar Arrow function
let user = {
  name: "Rahul",
  greet: () => {
    console.log(this.name);
  }
};

user.greet();


ğŸ–¨ Output:

undefined


ğŸ“Œ Arrow function ka this = window

âœ… Correct way (Arrow inside normal function)
let user = {
  name: "Rahul",
  greet: function () {
    const inner = () => {
      console.log(this.name);
    };
    inner();
  }
};

user.greet();


ğŸ–¨ Output:

Rahul


ğŸ“Œ Arrow ne outer function ka this pakad liya âœ…

6ï¸âƒ£ call(), apply(), bind() â€“ this control tools ğŸ®
call()
function greet(city) {
  console.log(this.name + " from " + city);
}

let user = { name: "Rahul" };

greet.call(user, "Delhi");


ğŸ–¨ Output:

Rahul from Delhi

apply() (same, bas arguments array me)
greet.apply(user, ["Mumbai"]);

bind() (future ke liye bind)
let boundFn = greet.bind(user, "Pune");
boundFn();

7ï¸âƒ£ Constructor function me this
function User(name) {
  this.name = name;
}

let u1 = new User("Rahul");
let u2 = new User("Amit");

console.log(u1.name); // Rahul
console.log(u2.name); // Amit


ğŸ“Œ new keyword:

new empty object banata hai

this us object ko point karta hai

8ï¸âƒ£ Class me this
class User {
  constructor(name) {
    this.name = name;
  }

  greet() {
    console.log(this.name);
  }
}

let u = new User("Rahul");
u.greet();


ğŸ–¨ Output:

Rahul


ğŸ“Œ Class ke methods = normal function behavior

9ï¸âƒ£ Event handler me this
button.addEventListener("click", function () {
  console.log(this);
});


ğŸ–¨ Output:

<button>...</button>


ğŸ“Œ Normal function â†’ this = element

âš ï¸ Arrow function in event
button.addEventListener("click", () => {
  console.log(this);
});


ğŸ–¨ Output:

window


âŒ Arrow me event ka this nahi milta

ğŸ”¥ ONE LOOK SUMMARY TABLE ğŸ‘€
Case	this value
Global (browser)	window
Normal function	window / undefined
Object method	object
Arrow function	lexical (outer)
call/apply/bind	manually set
Constructor	new object
Event (normal fn)	element
Event (arrow)	window
ğŸ¯ INTERVIEW SUPER ONE-LINERS ğŸ˜

this depends on how a function is called

Arrow function has no own this

call/apply/bind are used to control this

In strict mode, this can be undefined

ğŸŒ Real Project Tip (Angular / JS)

ğŸ‘‰ Component methods â†’ normal function
ğŸ‘‰ Callbacks / RxJS / setTimeout â†’ arrow function
ğŸ‘‰ Event handler this chahiye â†’ normal function

Agar chaho next ğŸ”¥:

âš¡ Tricky this output questions

âš¡ Arrow vs Normal real bugs

âš¡ this + async/await combo

bas bolo â¤ï¸